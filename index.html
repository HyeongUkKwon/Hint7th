<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>ì¸í„´ ìƒì¡´ ê°€ì´ë“œ</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>



        /* index (83).html íŒŒì¼ì˜ <style> ì„¹ì…˜ì— ì¶”ê°€ */
        
                    /* ---------- ìœ íŠœë¸Œ ì„ë² ë“œ ìŠ¤íƒ€ì¼ë§ ---------- */
                    .youtube-container {
                        margin-top: 24px;
                        border-radius: var(--radius); 
                        overflow: hidden; 
                        width: 100%;
                        /* 16:9 ë¹„ìœ¨ ìœ ì§€ë¥¼ ìœ„í•œ íŠ¸ë¦­ */
                        position: relative;
                        height: 0;
                        padding-bottom: 56.25%; /* 9 / 16 = 0.5625 */
                        border: 1px solid var(--border); 
                    }
        
                    #youtube-bg-video {
                        position: absolute;
                        top: 0;
                        left: 0;
                        width: 100%;
                        height: 100%;
                        /* (ì„ íƒ ì‚¬í•­) ì¢Œìš° ê²€ì€ ì—¬ë°±ì„ ì œê±°í•˜ê³  ë°°ê²½ì²˜ëŸ¼ ë³´ì´ê²Œ ì•½ê°„ í™•ëŒ€ */
                        transform: scale(1.05); 
                    }
    
           @import url('https://fonts.googleapis.com/css2?family=SF+Pro+Display:wght@300;400;500;600&display=swap');
          #internMessage {
            font-size: 28px;      /* ë” í¬ê²Œ */
            font-weight: 800;     /* ë³¼ë“œ ê°•í™” */
            font-style: italic;   /* ê¸€ì”¨ ê¸°ìš¸ì„ */
            color: #ff4d4d;
            line-height: 1.2;
            display: block;
            position: relative;
          }

      
        :root {
          --bg: #f2f2f7;
          --card: #ffffff;
          --text: #111111;
          --subtext: #6e6e73;
          --primary: #007aff;
          --danger: #ff3b30;
          --radius: 14px;
          --border: #d1d1d6;
        }
        
        * {
          font-family: 'SF Pro Display', -apple-system, BlinkMacSystemFont, sans-serif;
          box-sizing: border-box;
        }
        
            body {
                margin: 0;
                background: #021e36 url("Hint.png") no-repeat center fixed;
                background-size: cover;
                color: var(--text);
                /* backdrop-filter: blur(4px); */
            }
        
        /* Layout */
        .wrap {
          width: min(92%, 1200px);
          margin: auto;
          padding: 24px 0;
        }
        
        /* Header */
        header {
          padding: 28px;
          background: var(--card);
          border-radius: var(--radius);
          border: 1px solid var(--border);
        }
        
        header h1 {
          font-weight: 700;
          margin: 0 0 6px;
          font-size: 26px;
        }
        
        header p {
          margin: 2px 0;
          font-size: 14px;
          color: var(--subtext);
        }
        
        #userNick {
          color: var(--primary);
          font-weight: 600;
        }
        
        /* Nav - iOS segmented button */
        nav {
          display: flex;
          gap: 4px;
          padding: 12px;
          background: var(--card);
          border: 1px solid var(--border);
          border-radius: 12px;
          margin: 20px;
          overflow-x: auto;
        }
        
        nav button {
          flex: 1;
          padding: 12px 10px;
          border: none;
          border-radius: 10px;
          background: transparent;
          cursor: pointer;
          font-size: 14px;
          color: var(--subtext);
          transition: 0.25s;
        }
        
        nav button.active {
          background: var(--primary);
          color: white;
          font-weight: 600;
        }
        
        /* Sections */
        section {
          display: none;
          background: var(--card);
          margin-top: 14px;
          border-radius: var(--radius);
          padding: 26px;
          border: 1px solid var(--border);
        }
        
        section.active {
          display: block;
        }
        
        section h2 {
          margin: 0 0 4px;
          font-size: 20px;
          font-weight: 600;
        }
        
        .subtitle {
          margin-bottom: 18px;
          font-size: 14px;
          color: var(--subtext);
        }
        
        /* Form */
        form {
          display: flex;
          flex-direction: column;
          gap: 16px;
          margin-bottom: 20px;
        }
        
        input, textarea {
          width: 100%;
          padding: 12px 14px;
          border: 1px solid var(--border);
          border-radius: 12px;
          background: #fafafa;
          font-size: 14px;
          transition: 0.2s;
        }
        
        input:focus, textarea:focus {
          outline: none;
          border-color: var(--primary);
          background: white;
          box-shadow: 0 0 0 2px rgba(0,122,255,0.2);
        }
        
        /* Buttons Row */
        .btn-row {
          display: flex;
          gap: 10px;
        }
        
        .btn-primary {
          background: var(--primary);
          padding: 12px;
          border-radius: 12px;
          border: none;
          font-weight: 600;
          color: white;
          cursor: pointer;
        }
        
        .btn-secondary {
          background: #e5e5ea;
          padding: 12px;
          border-radius: 12px;
          border: none;
          font-weight: 500;
          cursor: pointer;
        }
        
        /* List Items */
        .item {
          background: var(--card);
          border: 1px solid var(--border);
          padding: 18px 16px;
          border-radius: 12px;
          margin-bottom: 10px;
        }
        
        .item-title {
          font-size: 16px;
          font-weight: 600;
        }
        
        .item-meta {
          font-size: 12px;
          margin: 4px 0;
          color: var(--subtext);
        }
        
        .item-body {
          margin-top: 8px;
          line-height: 1.45;
          font-size: 14px;
        }
        
        /* small action buttons */
        .edit-btn, .delete-btn {
          padding: 6px 10px;
          font-size: 13px;
          border-radius: 8px;
          border: none;
          cursor: pointer;
        }
        
        .edit-btn {
          background: #e5e5ea;
        }
        
        .delete-btn {
          background: var(--danger);
          color: white;
        }
        
        /* Empty state */
        .empty {
          text-align: center;
          padding: 26px;
          color: var(--subtext);
        }

         .dept-select {
            display: flex;
            gap: 0;
            background: #f1f1f4;
            padding: 6px;
            border-radius: 12px;
            border: 1px solid #d1d1d6;
            justify-content: space-between;
          }
        
          .dept, .eg-level2, .eg-level3 {
            flex: 1;
            padding: 12px 14px;
            border-radius: 10px;
            border: none;
            background: transparent;
            color: #6e6e73;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            border-radius: 10px;
            transition: all 0.25s ease;
          }

          /* ---------- ğŸ“Œ ê³µìš© ìˆ˜ì • ëª¨ë‹¬ UI ---------- */

          #editModal {
            position: fixed;
            inset: 0;
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 999;
          }
          
          #editModal .modal-bg {
            position: absolute;
            inset: 0;
            background: rgba(0,0,0,0.35);
            backdrop-filter: blur(5px);
          }
          
          #editModal .modal-box {
            position: relative;
            width: 90%;
            max-width: 400px;
            background: var(--card);
            border-radius: var(--radius);
            padding: 20px;
            border: 1px solid var(--border);
            box-shadow: 0 10px 30px rgba(0,0,0,0.18);
            animation: fadeUp 0.25s ease;
          }
          
          #editModal textarea {
            width: 100%;
            height: 110px;
            padding: 12px;
            border: 1px solid #d1d1d6;
            border-radius: 10px;
            resize: none;
            font-size: 14px;
          }
          
          #editModal .modal-actions {
            display: flex;
            justify-content: flex-end;
            gap: 8px;
            margin-top: 14px;
          }
          
          #cancelEdit {
            background: #e5e5ea;
            padding: 10px 14px;
            border-radius: 10px;
            cursor: pointer;
            border: none;
          }
          
          #saveEdit {
            background: #007aff;
            padding: 10px 14px;
            border-radius: 10px;
            cursor: pointer;
            color: white;
            font-weight: 600;
            border: none;
          }
          
          @keyframes fadeUp {
            from { opacity: 0; transform: translateY(12px); }
            to { opacity: 1; transform: translateY(0); }
          }

          #eg-level2-wrapper {
              margin-bottom: 12px;
            }
            
            #eg-level3-wrapper {
              margin-top: 6px;
            }

            /* Hover íš¨ê³¼ */
            .dept:hover,
            .eg-level2:hover,
            .eg-level3:hover {
              background: #e5e5ea;
            }
        
          .dept.active,
          .eg-level2.active,
          .eg-level3.active {
            background: #007aff;
            color: white;
            font-weight: 600;
            box-shadow: 0 4px 10px rgba(0, 122, 255, 0.25);
          }

        .daily-edit-btn, .daily-delete-btn {
            padding: 6px 10px;
            font-size: 13px;
            border-radius: 8px;
            border: none;
            cursor: pointer;
          }
          
          .daily-edit-btn {
            background: #e5e5ea;
          }
          
          .daily-delete-btn {
            background: #ff3b30;
            color: white;
          }

          /* ë¶€ì„œì¥ë‹˜ ë°±ë¬¸ë°±ë‹µ ì„¬ë„¤ì¼ìš© */
            .boss-grid {
              display: grid;
              grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
              gap: 12px;
              margin-bottom: 8px;
            }
            
            .boss-card {
              border: 1px solid var(--border);
              border-radius: 12px;
              padding: 10px;
              cursor: pointer;
              background: #fafafa;
              transition: transform 0.15s ease, box-shadow 0.15s ease;
            }
            
            .boss-card:hover {
              transform: translateY(-2px);
              box-shadow: 0 4px 10px rgba(0,0,0,0.06);
            }
            
            .boss-thumb {
              width: 100%;
              height: 120px;
              object-fit: cover;
              border-radius: 8px;
              display: block;
              margin-bottom: 8px;
            }
            
            .boss-info {
              font-size: 13px;
              color: var(--subtext);
            }
            
            /* ì¹´ë“œ í´ë¦­ ì‹œ í¼ì³ì§ˆ ì „ì²´ ì´ë¯¸ì§€ ë·°ì–´ */
            .boss-viewer {
              margin-top: 10px;
              max-height: 500px;
              overflow-y: auto;
              border-radius: 10px;
              border: 1px solid var(--border);
            }
            .boss-viewer img {
              width: 100%;
              display: block;
            }


             

  </style>
</head>
  <body>


  <div class="wrap">

    <header>
      <h1>ì¸í„´ ìƒì¡´ ê°€ì´ë“œ</h1>
      <p id="internMessage">ì´ë´, H-int í•´ë³´ê¸°ë‚˜ í–ˆì–´?!</p>
      <!-- ğŸ”¥ ìµëª… ì‚¬ìš©ì í‘œì‹œ UI -->
      <p style="margin-top:10px; color:#97ff54; font-size:18px; font-weight:bold;">
      ìµëª… ID : <span id="userNick"></span>
  </p>
      <div style="margin-top:6px;">
        <input id="nicknameInput" 
               placeholder="ë‹‰ë„¤ì„ ì§ì ‘ ì…ë ¥ (ì €ì¥ë¨)"
               style="padding:6px; border-radius:4px; border:1px solid #6FDB29; background:#011d2e; color:white; width:200px;">
        <button id="saveNickBtn" 
                style="padding:6px 10px; border:none; background:#6FDB29; color:#002b45; font-weight:bold; border-radius:4px; cursor:pointer;">
          ì €ì¥
        </button>
      </div>

    </header>

    <nav>
      <button class="active" data-target="home">ğŸ  í™ˆ</button>
      <button data-target="faq">ğŸ“Œ ê¸°ë³¸ ì—…ë¬´ / FAQ</button>
      <button data-target="struggle">ğŸ˜µ ì‹œë ¨ ê³µìœ </button>
      <button data-target="boss">ğŸ˜ ì„ ë°°ë‹˜ë“¤ ë°±ë¬¸ë°±ë‹µ</button>
      <button data-target="food">ğŸœ ë§›ì§‘ ê³µìœ </button>
    </nav>

    <main>
      <!-- í™ˆ -->
      <section id="home" class="active">
        <h2>ì–´ì„œ ì™€, ì¸í„´ ìƒí™œì€ ì²˜ìŒì´ì§€?</h2>
        <p class="subtitle">
          ì²˜ìŒ ì¸í„´ ë•ŒëŠ” ì•„ë¬´ê²ƒë„ ëª¨ë¥´ëŠ” ê²ƒì´ ë‹¹ì—°í•´!
          ì§€ê¸ˆë¶€í„° ì¡°ê¸ˆì”© ë‚˜ë§Œì˜ ê°€ì´ë“œë¶ì„ ë§Œë“¤ì–´ê°€ì :)
        </p>
        <ul class="simple">
          <li><b>ğŸ“Œ ê¸°ë³¸ ì—…ë¬´ / FAQ</b> íƒ­: ì¸í„´ ìƒí™œì˜ í•˜ë£¨í•˜ë£¨ë¥¼ ê¸°ë¡, ì„±ì¥ì˜ ë°œíŒ!</li>
          <li><b>ğŸ˜µ ì‹œë ¨ ê³µìœ </b> íƒ­: ì¸ê°„ê´€ê³„, ì¶œê·¼, ìš©ì–´ ì§€ì˜¥ ê°™ì€ ë©˜ë¶• í¬ì¸íŠ¸ ê¸°ë¡</li>
          <li><b>ğŸ˜ ì„ ë°°ë‹˜ë“¤ ë°±ë¬¸ë°±ë‹µ</b> íƒ­: ë„ˆë¬´ ë©€ê²Œë§Œ ë³´ì´ëŠ” ì§ì¥ìƒì‚¬ë¶„ë“¤ì˜ ì´ì•¼ê¸°</li>
          <li><b>ğŸœ ë§›ì§‘ ê³µìœ </b> íƒ­: ìš¸ì‚° ë‚´ ë§›ì§‘ì— ëŒ€í•œ ì •ë³´ë“¤!</li>
      </ul> 


      <div class="youtube-container">
        <iframe 
            id="youtube-bg-video"
            src="https://www.youtube.com/embed/X9SEelG7BXQ?autoplay=1&mute=1&loop=1&playlist=X9SEelG7BXQ&controls=0&showinfo=0&rel=0"
            frameborder="0" 
            allow="autoplay; encrypted-media; fullscreen"
            allowfullscreen>
        </iframe>
      </div>
        
      </section>

      <!-- ê¸°ë³¸ ì—…ë¬´ / FAQ -->
      <section id="faq">
        <h2>ğŸ“Œ ê¸°ë³¸ ì—…ë¬´ / FAQ</h2>
        <p class="subtitle">
          â€œì´ ì—…ë¬´ê°€ ì •í™•íˆ ë­˜ ì˜ë¯¸í•˜ëŠ”ì§€â€ ì •ë¦¬í•´ ë‘ëŠ” ê³µê°„.
          ì˜ˆ) í˜ì„¼ì—”ì§„ì˜ 4í–‰ì • stroke êµ¬ì¡°
        </p>

          <!-- ğŸ“Œ ì‚¬ì—…ë¶€ ì„ íƒ ë©”ë‰´ -->
            <div class="dept-select" style="margin-bottom:14px;">
              <button data-dept="ì¡°ì„ " class="dept active">ì¡°ì„ </button>
              <button data-dept="í•¨ì •Â·ì¤‘í˜•ì„ " class="dept">í•¨ì •Â·ì¤‘í˜•ì„ </button>
              <button data-dept="ì—”ì§„ê¸°ê³„" class="dept">ì—”ì§„ê¸°ê³„</button>
              <button data-dept="í•´ì–‘ì—ë„ˆì§€" class="dept">í•´ì–‘ì—ë„ˆì§€</button>
            </div>

            <div id="eg-submenu" style="margin-top:12px;">
                <div class="dept-select" id="eg-level2-wrapper"></div>
                <div class="dept-select" id="eg-level3-wrapper"></div>
              </div>

        <form id="daily-form">
        <div>
          <label for="daily-body">ì˜¤ëŠ˜ ê¸°ë¡</label>
          <textarea id="daily-body" placeholder="ì˜¤ëŠ˜ ë°°ìš´ ì—…ë¬´ ë‚´ìš©ì„ ì ì–´ë³´ì„¸ìš”." required></textarea>
        </div>
        <div class="btn-row">
          <button type="button" class="btn btn-secondary" id="daily-clear">ì „ì²´ ì‚­ì œ</button>
          <button type="submit" class="btn btn-primary">ê¸°ë¡ ì¶”ê°€</button>
        </div>
      </form>

        <div id="faq-list" class="list"></div>
      </section>

      <!-- ì‹œë ¨ ê³µìœ  -->
      <section id="struggle">
        <h2>ğŸ˜µ ì‹œë ¨ ê³µìœ </h2>
        <p class="subtitle">
          ì¸í„´ ìƒí™œí•˜ë©´ì„œ ë©˜íƒˆ í”ë“¤ë ¸ë˜ ìˆœê°„ì„ ì ì–´ë‘ëŠ” ê³µê°„.
          ë‚˜ì¤‘ì— ë³´ë©´ ì›ƒê¸°ê³ , ê³¼ê±°ì˜ ë‚˜ë¥¼ ë°”íƒ•ìœ¼ë¡œ í•˜ë‚˜ ì„±ì¥í–ˆìŒì„ ëŠë‚„ ìˆ˜ ìˆìŒ.
        </p>

        <form id="struggle-form">
          <div>
            <label for="struggle-title">ì‹œë ¨ ë‚´ìš© í•œì¤„ ìš”ì•½</label>
            <input id="struggle-title" type="text" placeholder="ì˜ˆ: ë¶€ì„œì¥ë‹˜ê»˜ ë§ ê±¸ê¸° ë‚œì´ë„ SSê¸‰" required />
          </div>
          <div>
            <label for="struggle-body">ê·¹ë³µí–ˆë˜ ë°©ë²•</label>
            <textarea id="struggle-body" placeholder="ê·¸ ìƒí™©ì´ ì–´ë• ëŠ”ì§€, ë‚´ê°€ ì–´ë–»ê²Œ ì‹œë ¨ì„ í—¤ì³ë‚˜ê°”ëŠ” ì§€ ì ì–´ë‘ê¸°"></textarea>
          </div>
          <div class="btn-row">
            <button type="button" class="btn btn-secondary" id="struggle-clear">ì „ì²´ ì‚­ì œ</button>
            <button type="submit" class="btn btn-primary">ì‹œë ¨ ê¸°ë¡</button>
          </div>
        </form>

        <div id="struggle-list" class="list"></div>
      </section>
      
      <!-- ë¶€ì„œì¥ë‹˜ ë°±ë¬¸ë°±ë‹µ -->
      <section id="boss">
        <h2>ğŸ˜ ì„ ë°°ë‹˜ë“¤ ë°±ë¬¸ë°±ë‹µ</h2>
        <p class="subtitle">
          ì„ ë°°ë‹˜ë“¤ê»˜ ë“¤ì€ ëª…ì–¸, ì¸ì‚¬ì´íŠ¸, ì—…ë¬´ ë°©í–¥ì„±, ê¿€íŒ ë“±ì„ ì €ì¥í•˜ëŠ” ê³µê°„. <br>
          Aê¸‰ ì¸í„´ì´ ë˜ê¸° ìœ„í•´ì„œëŠ” ê¼­ ë´ì•¼í•˜ëŠ” í•„ìˆ˜ ê³µê°„! <br>
          <b style="color:#007aff;">ğŸ“„ ì°¸ê³  ìë£Œ (PDF)ëŠ” ì•„ë˜ ë§í¬ ëª©ë¡ì„ í™•ì¸í•˜ì„¸ìš”.</b>  
        </p>

          <div id="github-pdf-list" style="margin-bottom: 20px; padding: 15px; background: #eef7ff; border: 1px solid #cce5ff; border-radius: 10px;">
              <p style="margin: 0; font-weight: 600; color:#007aff;">ğŸ”— ì°¸ê³ ìš© PDF ìë£Œ ëª©ë¡</p>
              </div>
          
            <div id="boss-list" class="boss-grid" style="grid-template-columns: 1fr;">
              </div>
            
            <button id="boss-add-btn" 
              style="width:100%; padding:12px; background:#007aff; color:white; border-radius:10px; border:none; font-weight:bold; margin-top: 10px;">
              â• ì„ ë°°ë‹˜ Q&A ì¶”ê°€í•˜ê¸°
            </button>
          
            <form id="boss-form" style="display:none; margin-top:16px; display:flex; flex-direction:column; gap:12px;">
          
                <div>
                  <label>ì‚¬ì—…ë¶€ ì„ íƒ</label>
                  <select id="boss-dept" required>
                    <option value="">ì„ íƒí•´ì£¼ì„¸ìš”</option>
                    <option>ì¡°ì„ </option>
                    <option>í•¨ì •Â·ì¤‘í˜•ì„ </option>
                    <option>ì—”ì§„ê¸°ê³„</option>
                    <option>í•´ì–‘ì—ë„ˆì§€</option>
                  </select>
                </div>
          
               <div>
                  <label>ë¶€ì„œ ì…ë ¥</label>
                  <input id="boss-team" type="text" placeholder="ì˜ˆ: ì—”ì§„ì„¤ê³„ë¶€" required />
                </div>
          
                <div>
                    <label>ì„ ë°°ë‹˜ ì„±í•¨</label>
                    <input id="boss-name" type="text" placeholder="ì˜ˆ: ê¹€OO ì„ ì„ë‹˜" required />
                  </div>
                  
                <div>
                  <label>ê¶ê¸ˆí•œ ì§ˆë¬¸ (Q)</label>
                  <textarea id="boss-question" placeholder="ì˜ˆ: ì¸í„´ì—ê²Œ ê¸°ëŒ€í•˜ì‹œëŠ” ê°€ì¥ í° ì—­í• ì€ ë¬´ì—‡ì¸ê°€ìš”?" required></textarea>
                </div>
          
                <div>
                  <label>ì„ ë°°ë‹˜ì˜ ëŒ€ë‹µ (A)</label>
                  <textarea id="boss-answer" placeholder="ì„ ë°°ë‹˜ê»˜ ë“¤ì€ ë‹µë³€ì„ ì ì–´ì£¼ì„¸ìš”." required></textarea>
                </div>
          
                <button type="submit" class="btn-primary" style="border:none;">
                  Q&A ê¸°ë¡
                </button>
            </form>       
          
          </section>

       
      <!-- ë§›ì§‘ ê³µìœ  -->
      <section id="food">
        <h2>ğŸœ ë§›ì§‘ ê³µìœ </h2>
        <p class="subtitle">
          ìš¸ì‚°ì—” ìƒê°ë³´ë‹¤ ìˆ¨ì€ ë§›ì§‘ì´ ë§ë‹¤. ì ì‹¬ ë©”ë‰´ ê³ ë¯¼í•˜ì§€ ì•Šë„ë¡ ê¸°ë¡í•´ë‘ì.
        </p>
      
        <form id="food-form">
          <div>
            <label for="food-title">ê°€ê²Œ ì´ë¦„</label>
            <input id="food-title" type="text" placeholder="ì˜ˆ: ì‚¼ì‚°ì—­ ëƒ‰ë©´" required />
          </div>
          <div>
            <label for="food-menu">ì¶”ì²œ ë©”ë‰´</label>
            <input id="food-menu" type="text" placeholder="ì˜ˆ: ë¬¼ëƒ‰ë©´ + ë§Œë‘" />
          </div>
          <div>
            <label for="food-rating">í‰ê°€ (0~5ì )</label>
            <input id="food-rating" 
                   type="number" 
                   step="1" 
                   min="0" 
                   max="5" 
                   placeholder="0ë¶€í„° 5ê¹Œì§€ ìˆ«ìë¡œ ì…ë ¥í•´ì£¼ì„¸ìš” (ì˜ˆ: 4)" />
          </div>
          <div>
            <label for="food-body">ì½”ë©˜íŠ¸</label>
            <textarea id="food-body" placeholder="ì˜ˆ: ì ì‹¬ì— ê°€ë©´ ì¤„ ì„¬. ì§ì›ë“¤ ì¹œì ˆ. ëƒ‰ë©´ êµ­ë¬¼ ê¹”ë”í•¨."></textarea>
          </div>
          <div class="btn-row">
            <button type="button" class="btn btn-secondary" id="food-clear">ì „ì²´ ì‚­ì œ</button>
            <button type="submit" class="btn btn-primary">ë§›ì§‘ ì¶”ê°€</button>
          </div>
        </form>
      
        <div id="food-list" class="list"></div>
      </section>

    </main>

         
  </div>
          <!-- â­ ì—¬ê¸° ì¶”ê°€ (íŒì—… HTML) -->
          <div id="editModal" style="display:none;">
            <div class="modal-bg"></div>
            <div class="modal-box">
              <h3>âœ ë‚´ìš© ìˆ˜ì •</h3>
              <textarea id="editInput"></textarea>
              <div class="modal-actions">
                <button id="cancelEdit">ì·¨ì†Œ</button>
                <button id="saveEdit">ì €ì¥</button>
              </div>
            </div>
          </div>
          <!-- â­ ì—¬ê¸°ê¹Œì§€ -->

    

//--------------------------------------------------------------------------------------------------------------------------
 <script type="module">
        // Firebase core app
        import { initializeApp } from "https://www.gstatic.com/firebasejs/12.6.0/firebase-app.js";
      
        // Firestore database (í•„ìš”í•œ ëª¨ë“  CRUD ë° ì‹¤ì‹œê°„ í•¨ìˆ˜ import)
        import { getFirestore, collection, onSnapshot, addDoc, deleteDoc, doc, updateDoc, getDocs, getDoc } 
        from "https://www.gstatic.com/firebasejs/12.6.0/firebase-firestore.js";


        // Your Firebase project config
        const firebaseConfig = {
          apiKey: "AIzaSyApdO9aULmMKCRDj6H1Dri1yTgkcHATpmc",
          authDomain: "h-int-survival.firebaseapp.com",
          projectId: "h-int-survival",
          storageBucket: "h-int-survival.firebasestorage.app",
          messagingSenderId: "343672530876",
          appId: "1:343672530876:web:3ea707d33f28c8f58eadb9"
        };
      
        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);
      
        console.log("ğŸ”¥ Firebase ì—°ê²°ë¨ / Firestore ì¤€ë¹„ ì™„ë£Œ:", db);


        // ------------------- ê³µí†µ ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜ -------------------
        
        function nowString() {
          var d = new Date();
          var y = String(d.getFullYear()).slice(2);
          var m = String(d.getMonth() + 1).padStart(2, "0");
          var day = String(d.getDate()).padStart(2, "0");
          var hh = String(d.getHours()).padStart(2, "0");
          var mm = String(d.getMinutes()).padStart(2, "0");
          return y + "-" + m + "-" + day + " " + hh + ":" + mm;
        }
        
        function escapeHtml(str) {
          if (!str) return "";
          return String(str)
            .replace(/&/g, "&amp;")
            .replace(/</g, "&lt;")
            .replace(/>/g, "&gt;")
            .replace(/"/g, "&quot;")
            .replace(/'/g, "&#039;")
            .replace(/\n/g, "<br>"); // ì¤„ë°”ê¿ˆì„ <br>ë¡œ ë³€í™˜
        }

        /* ---------- ê³µìš© ìˆ˜ì • ëª¨ë‹¬ ë¡œì§ (Firestore updateDoc ì‚¬ìš©ì„ ìœ„í•œ ì½œë°± êµ¬ì¡°) ---------- */
        const modal = document.getElementById("editModal");
        const modalInput = document.getElementById("editInput");
        const cancelBtn = document.getElementById("cancelEdit");
        const saveBtn = document.getElementById("saveEdit");
        let onSaveCallback = null; 
        
        // ëª¨ë‹¬ ì—´ê¸° í•¨ìˆ˜
        function openEditModal(initialText, callback) {
          if (!modal) return;
          modalInput.value = initialText; 
          modal.style.display = "flex";   
          onSaveCallback = callback;      
        }
        
        // ì·¨ì†Œ ë²„íŠ¼ í´ë¦­ ì‹œ
        if (cancelBtn) {
          cancelBtn.addEventListener("click", () => {
            modal.style.display = "none";
            onSaveCallback = null;
          });
        }
        
        // ì €ì¥ ë²„íŠ¼ í´ë¦­ ì‹œ (ì½œë°± í•¨ìˆ˜ëŠ” ê° ì„¹ì…˜ì˜ updateDocì„ ì‹¤í–‰í•¨)
        if (saveBtn) {
          saveBtn.addEventListener("click", () => {
            if (onSaveCallback && modalInput) {
              onSaveCallback(modalInput.value); 
            }
            modal.style.display = "none"; 
            onSaveCallback = null;
          });
        }


        // ------------------- íƒ­ ì „í™˜ -------------------
        (function() {
          var navButtons = document.querySelectorAll("nav button");
          var sections = document.querySelectorAll("main section");

          function showSection(id) {
            sections.forEach(function(sec) {
              if (sec.id === id) sec.classList.add("active");
              else sec.classList.remove("active");
            });
          }

          navButtons.forEach(function(btn) {
            btn.addEventListener("click", function() {
              navButtons.forEach(function(b) { b.classList.remove("active"); });
              btn.classList.add("active");
              var target = btn.getAttribute("data-target");
              showSection(target);
            });
          });
          
          // ì´ˆê¸° ì„¹ì…˜ í‘œì‹œ (ì²« ë²ˆì§¸ ë²„íŠ¼ í™œì„±í™”)
          if (navButtons.length > 0) {
            navButtons[0].click(); 
          }
        })();


        /*----------------------------ë‹‰ë„¤ì„ ì œì–´ (ìµœì†Œí•œì˜ localStorage ìœ ì§€)----------------------------------*/
    
        function generateRandomNickname() {
          return "User-" + Math.random().toString(36).substring(2, 10);
        }

        async function loadUserNickname() {
          
          // ğŸ’¡ ì‚¬ìš©ì ID (Firestore ë¬¸ì„œ ID)ëŠ” ë¸Œë¼ìš°ì €ì— ì €ì¥í•˜ì—¬ ì¬ë°©ë¬¸ ì‹œ ë™ì¼ ì‚¬ìš©ìì„ì„ í™•ì¸í•©ë‹ˆë‹¤. (ìµœì†Œí•œì˜ localStorage ì‚¬ìš©)
          let userId = localStorage.getItem("intern_user_id"); 
          const usersRef = collection(db, "users");
        
          if (userId) {
            const snap = await getDoc(doc(db, "users", userId));
            if (snap.exists()) {
              return snap.data().nickname;
            }
          }
        
          // ìƒˆ ì‚¬ìš©ì ìƒì„±
          const newNick = generateRandomNickname();
          const newDoc = await addDoc(usersRef, {
            nickname: newNick,
            createdAt: nowString()
          });
        
          localStorage.setItem("intern_user_id", newDoc.id); // ID ì €ì¥
        
          return newNick;
        }


        let USER_NICKNAME = "ë¡œë”© ì¤‘...";
        
        loadUserNickname().then(nick => {
          USER_NICKNAME = nick; // ì „ì—­ ë³€ìˆ˜ ì„¤ì •
          const nickInput = document.getElementById("nicknameInput");
          const userNickDisplay = document.getElementById("userNick");
          
          if (nickInput) nickInput.value = nick;
          if (userNickDisplay) userNickDisplay.textContent = nick;
        });

    
        // â­ ì €ì¥ ë²„íŠ¼ ì´ë²¤íŠ¸
        document.getElementById("saveNickBtn").addEventListener("click", async () => {
          const newNick = document.getElementById("nicknameInput").value.trim();
          if (!newNick) return alert("ë‹‰ë„¤ì„ì„ ì…ë ¥í•˜ì„¸ìš”!");
        
          const userId = localStorage.getItem("intern_user_id");
        
          if (!userId) {
            alert("âš  ë‹‰ë„¤ì„ ë¡œë”© ì¤‘ì…ë‹ˆë‹¤. ì ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•˜ì„¸ìš”.");
            return;
          }
        
          try {
            await updateDoc(doc(db, "users", userId), {
              nickname: newNick,
              updatedAt: nowString()
            });
        
            USER_NICKNAME = newNick; // ì „ì—­ ë³€ìˆ˜ ì—…ë°ì´íŠ¸
            document.getElementById("userNick").textContent = newNick;
            alert("ë‹‰ë„¤ì„ì´ ì„±ê³µì ìœ¼ë¡œ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤!");
        
          } catch (err) {
            console.error("ë‹‰ë„¤ì„ ì €ì¥ ì˜¤ë¥˜:", err);
            alert("âš  Firebase ì €ì¥ ì‹¤íŒ¨ â€” ë‹¤ì‹œ ì‹œë„í•˜ì„¸ìš”.");
          }
        });

      /*----------------------------ë‹‰ë„¤ì„ ì œì–´ ë----------------------------------*/


      /* ---------- ê¸°ë³¸ ì—…ë¬´ / FAQ (Firestore 100% ì‚¬ìš©) ---------- */
            
            (function () {
            
              // ğŸ“Œ ì„ íƒ ìƒíƒœëŠ” ì´ì œ ê°ì²´ì—ë§Œ ì €ì¥í•˜ê³ , í˜ì´ì§€ ë¦¬ë¡œë“œ ì‹œ ì´ˆê¸°ê°’ìœ¼ë¡œ ëŒì•„ê°‘ë‹ˆë‹¤.
              let selected = { dept:"ì¡°ì„ ", level2:null, level3:null };
              
              const deptBtns = document.querySelectorAll(".dept");
              const submenu = document.getElementById("eg-submenu");
              const level2Wrapper = document.getElementById("eg-level2-wrapper");
              const level3Wrapper = document.getElementById("eg-level3-wrapper");

              // ğŸ“Œ ì‚¬ì—…ë¶€ë³„ ë ˆë²¨ êµ¬ì¡° ì •ì˜ (ìœ ì§€)
              const DEPT_STRUCTURE = {
                ì¡°ì„ : {
                  level2: ["ì„¤ê³„", "ì•ˆì „ìƒì‚°", "ì¸ì‚¬ì´ë¬´"],
                  level3: {
                    ì„¤ê³„: ["ì„ ì²´ì„¤ê³„", "ì˜ì¥ì„¤ê³„", "ì„¤ê³„ì‹œìŠ¤í…œ/ê¸°íš"],
                    ì•ˆì „ìƒì‚°: ["ë‚´ì—…", "ì„ í–‰", "ì™¸ì—…", "ê¸°íšê³ ê°ì§€ì›"],
                    ì¸ì‚¬ì´ë¬´: ["ì¡°ì„ ì¸ì‚¬ì´ë¬´ì§€ì›ë¶€"]
                  }
                },
                í•¨ì •Â·ì¤‘í˜•ì„ : {
                  level2: ["ê¸°íš", "ì•ˆì „ìƒì‚°", "ì˜ì—…"],
                  level3: {
                    ê¸°íš: ["í•¨ì •Â·ì¤‘í˜•ì„ ê¸°ìˆ ê¸°íšë¶€", "í•¨ì •ë²•ë¬´ë³´ì•ˆ", "í•¨ì • ê¸°íš", "ì¤‘í˜•ì„ ê¸°íš"],
                    ì•ˆì „ìƒì‚°: ["í•¨ì •ìƒì‚°", "í•¨ì •ìì¬ìš´ì˜ë¶€"],
                    ì˜ì—…: ["íŠ¹ìˆ˜ì„ ì˜ì—…", "í•¨ì •êµ­ë‚´ì˜ì—…", "í•¨ì •í•´ì™¸ì˜ì—…"]
                  }
                },
                ì—”ì§„ê¸°ê³„: {
                  level2: ["ì„¤ê³„", "ìƒì‚°", "ì˜ì—…"],
                  level3: {
                    ì„¤ê³„: ["ì œì–´ì‹œìŠ¤í…œì„¤ê³„ë¶€", "ì¹œí™˜ê²½ì‹œìŠ¤í…œì„¤ê³„ë¶€", "ì—”ì§„ê°œë°œë¶€", "ì—”ì§„ê°œë°œì‹œí—˜ë¶€", "í˜ì„¼ì—”ì§„ì„¤ê³„ë¶€", "ëŒ€í˜•ì—”ì§„ì„¤ê³„ë¶€"],
                    ìƒì‚°: ["ì—”ì§„ìƒì‚°ê¸°ìˆ ë¶€", "í”„ë¡œí ëŸ¬ìƒì‚°ë¶€", "í¬ë‘í¬ìƒì‚°ë¶€", "ëŒ€í˜•ì‹œìš´ì „ë¶€", "í˜ì„¼ì‹œìš´ì „ë¶€"],
                    ì˜ì—…: ["ì—”ì§„ì‹œìŠ¤í…œì˜ì—…ë¶€", "ì—”ì§„ê¸°ìˆ ì˜ì—…ë¶€", "ì¤‘êµ­ì—”ì§„ì˜ì—…ë¶€"]
                  }
                },
                í•´ì–‘ì—ë„ˆì§€: {
                  level2: ["ì„¤ê³„", "ìƒì‚°", "ì˜ì—…", "í•´ì–‘ì—ë„ˆì§€PM"],
                  level3: {
                    ì„¤ê³„: ["ì„¤ê³„1", "ì„¤ê³„2", "ì„¤ê³„3"],
                    ìƒì‚°: ["ìƒì‚°1", "ìƒì‚°2"],
                    ì˜ì—…: ["í•´ì–‘ì—ë„ˆì§€ì˜ì—…"],
                    í•´ì–‘ì—ë„ˆì§€PM : ["PM1", "PM2", "PM3", "ZOR"]
                  }
                }
              };
            
              const form = document.getElementById("daily-form");
              const input = document.getElementById("daily-body");
              const listEl = document.getElementById("faq-list");
              const clearBtn = document.getElementById("daily-clear");

              // ----------------- ì„œë¸Œë©”ë‰´ ë Œë”ë§ -----------------
              function renderSubmenu() {
                // ... (Level2/3 ë²„íŠ¼ ìƒì„± ë° ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ë¡œì§ ìœ ì§€)
                const structure = DEPT_STRUCTURE[selected.dept];
            
                // Level2 ìƒì„±
                level2Wrapper.innerHTML = structure.level2
                  .map(l => `<button class="eg-level2 ${l === selected.level2 ? "active" : ""}" data-level2="${l}">${l}</button>`)
                  .join("");
            
                level2Wrapper.querySelectorAll(".eg-level2").forEach(btn => {
                  btn.addEventListener("click", () => {
                    selected.level2 = btn.dataset.level2;
                    selected.level3 = null;
                    renderSubmenu();
                    render();
                  });
                });
            
                // Level3 ìƒì„±
                if (selected.level2) {
                  level3Wrapper.innerHTML = structure.level3[selected.level2]
                    .map(l => `<button class="eg-level3 ${l === selected.level3 ? "active" : ""}" data-level2="${selected.level2}" data-level3="${l}">${l}</button>`)
                    .join("");

                  level3Wrapper.querySelectorAll(".eg-level3").forEach(btn => {
                    btn.addEventListener("click", () => {
                      selected.level3 = btn.dataset.level3;
                      renderSubmenu();
                      render();
                    });
                  });
            
                } else {
                  level3Wrapper.innerHTML = "";
                }
              
                applyPathToUI();
              }

              const collectionName = "faq"; 
              let items = []; 
              
              // 1ï¸âƒ£ Firestoreì—ì„œ ì‹¤ì‹œê°„ ë¶ˆëŸ¬ì˜¤ê¸° (loadArray ëŒ€ì²´)
              onSnapshot(collection(db, collectionName), (snapshot) => {
                items = snapshot.docs.map(doc => ({
                  id: doc.id,
                  ...doc.data()
                }));
                render();
              });
              
              // 2ï¸âƒ£ ëª©ë¡ ë Œë”ë§ (CRUD ë™ì‘ ìˆ˜ì •)
              function render() {
                const filtered = items
                  .filter(i => i.dept === selected.dept)
                  .filter(i => !selected.level2 || i.level2 === selected.level2)
                  .filter(i => !selected.level3 || i.level3 === selected.level3)
                  .sort((a, b) => new Date(b.time) - new Date(a.time)); 
              
                if (!filtered.length) {
                  listEl.innerHTML = `<div class="empty">í•´ë‹¹ ì¹´í…Œê³ ë¦¬ì— ê¸°ë¡ì´ ì—†ìŠµë‹ˆë‹¤.</div>`;
                  return;
                }
              
                listEl.innerHTML = "";
                filtered.forEach(item => {
                  const div = document.createElement("div");
                  div.className = "item";
              
                  div.innerHTML = `
                    <div class="item-title">ğŸ“Œ ${item.dept}${item.level2 ? " / " + item.level2 : ""}${item.level3 ? " / " + item.level3 : ""}</div>
                    <div class="item-meta">${item.time} Â· ğŸ‘¤ ${item.user}</div>
                    <div class="item-body">${escapeHtml(item.text)}</div>
                    
                    <div style="margin-top:10px; display:flex; gap:8px;">
                      <button class="daily-edit-btn" data-id="${item.id}">âœ ìˆ˜ì •</button>
                      <button class="daily-delete-btn" data-id="${item.id}">ğŸ—‘ ì‚­ì œ</button>
                    </div>
                  `;
                  listEl.appendChild(div);
                });
              
                // âœ ìˆ˜ì • ê¸°ëŠ¥ (Firestore updateDoc ì‚¬ìš©)
                listEl.querySelectorAll(".daily-edit-btn").forEach(btn => {
                  btn.addEventListener("click", () => {
                    const id = btn.dataset.id;
                    const target = items.find(i => i.id === id);
              
                    openEditModal(target.text, async updated => {
                      if (!updated.trim()) return;
                      // Firestore updateDoc ì‹¤í–‰
                      await updateDoc(doc(db, collectionName, id), { text: updated });
                    });
                  });
                });
              
                // ğŸ—‘ ì‚­ì œ ê¸°ëŠ¥ (Firestore deleteDoc ì‚¬ìš©)
                listEl.querySelectorAll(".daily-delete-btn").forEach(btn => {
                  btn.addEventListener("click", async () => {
                    if (confirm("ì •ë§ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?")) {
                      // Firestore deleteDoc ì‹¤í–‰
                      await deleteDoc(doc(db, collectionName, btn.dataset.id));
                    }
                  });
                });
              }
              
              // 3ï¸âƒ£ ìƒˆ í•­ëª© ì €ì¥ (Firestore addDoc ì‚¬ìš©)
              form.addEventListener("submit", async e => {
                e.preventDefault();
              
                if (!input.value.trim()) return;
              
                // Firestore addDoc ì‹¤í–‰
                await addDoc(collection(db, collectionName), {
                  text: input.value.trim(),
                  dept: selected.dept,
                  level2: selected.level2,
                  level3: selected.level3,
                  time: nowString(),
                  user: USER_NICKNAME 
                });
              
                input.value = "";
              });
              
              // 4ï¸âƒ£ ì „ì²´ ì‚­ì œ (Firestore ëª¨ë“  ë¬¸ì„œ ì‚­ì œ)
              clearBtn.addEventListener("click", async () => {
                if (!confirm("í•´ë‹¹ ì¹´í…Œê³ ë¦¬ì˜ ëª¨ë“  ê¸°ë¡ì„ ì •ë§ ì‚­ì œí• ê¹Œìš”?")) return;
              
                const snapshot = await getDocs(collection(db, collectionName));
                snapshot.forEach(docSnap => deleteDoc(docSnap.ref));
              });


              // ----------------- UI ì ìš© ë° ì´ë²¤íŠ¸ -----------------
              function applyPathToUI() {
                const level2Btns = document.querySelectorAll(".eg-level2");
                const level3Btns = document.querySelectorAll(".eg-level3");        
                // ì‚¬ì—…ë¶€ ë²„íŠ¼
                deptBtns.forEach(btn => {
                  btn.classList.toggle("active", btn.dataset.dept === selected.dept);
                });

                submenu.style.display = "block";
            
                // level2
                level2Btns.forEach(btn =>
                  btn.classList.toggle("active", btn.dataset.level2 === selected.level2)
                );
            
                // level3: ì„ íƒëœ level2ì— í•´ë‹¹í•˜ëŠ” ê²ƒë§Œ í‘œì‹œ
                level3Btns.forEach(btn => {
                  const match = btn.dataset.level2 === selected.level2;
                  btn.style.display = match ? "block" : "none";
                  btn.classList.toggle("active", btn.dataset.level3 === selected.level3);
                });
              }

              // ----------------- ì„ íƒ ì´ë²¤íŠ¸ -----------------
              deptBtns.forEach(btn => {
                btn.addEventListener("click", () => {
                  selected.dept = btn.dataset.dept;
                  selected.level2 = null; 
                  selected.level3 = null; 
                  renderSubmenu();
                  applyPathToUI();
                  render();
                      });
                });
              
              // ----------------- ì´ˆê¸° ì‹¤í–‰ -----------------
              renderSubmenu();
              applyPathToUI();
              // render()ëŠ” onSnapshotì—ì„œ ìë™ ì‹¤í–‰ë¨
            
            })();

        
        // ---------- ì‹œë ¨ ê³µìœ  (Firestore 100% ì‚¬ìš©) ----------
        (function() {
          const collectionName = "struggle";
          var form = document.getElementById("struggle-form");
          var listEl = document.getElementById("struggle-list");
          var clearBtn = document.getElementById("struggle-clear");
          let items = []; // ë°ì´í„° ì €ì¥ìš©

          // 1ï¸âƒ£ Firestore ì‹¤ì‹œê°„ ë¦¬ìŠ¤ë„ˆ (loadArray ëŒ€ì²´)
          onSnapshot(collection(db, collectionName), (snapshot) => {
            items = snapshot.docs.map(doc => ({
                id: doc.id,
                ...doc.data()
            }));
            render(items);
          });

          // 2ï¸âƒ£ ë Œë”ë§ í•¨ìˆ˜
          function render(items = []) {
            if (!items.length) {
              listEl.innerHTML = '<div class="empty">ì•„ì§ ê¸°ë¡ëœ ì‹œë ¨ì´ ì—†ìŠµë‹ˆë‹¤. ì˜¤ëŠ˜ ìˆì—ˆë˜ ë©˜ë¶• í•œ ì¤„ë§Œ ì¨ë„ OK.</div>';
              return;
            }
            listEl.innerHTML = "";
            items.slice().sort((a, b) => new Date(b.time) - new Date(a.time)).forEach(function(item) {
              var div = document.createElement("div");
              div.className = "item";
             div.innerHTML = `
              <div class="item-title">${escapeHtml(item.title)}</div>
              <div class="item-meta">${escapeHtml(item.time)} Â· ğŸ‘¤ ${escapeHtml(item.user || "ìµëª…")}</div>
              <div class="item-body">${escapeHtml(item.body || "")}</div>
            
              <div style="margin-top:10px; display:flex; gap:8px;">
                <button class="edit-btn" data-id="${item.id}">âœ ìˆ˜ì •</button>
                <button class="delete-btn" data-id="${item.id}" style="background:#b71c1c;color:white;">ğŸ—‘ ì‚­ì œ</button>
              </div>
            `;

              listEl.appendChild(div);
            });

            // ğŸ—‘ ì‚­ì œ ë²„íŠ¼ ê¸°ëŠ¥ (Firestore deleteDoc ì‚¬ìš©)
              listEl.querySelectorAll(".delete-btn").forEach(btn => {
                btn.addEventListener("click", async () => {
                  if (confirm("ì •ë§ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?")) {
                    await deleteDoc(doc(db, collectionName, btn.dataset.id));
                  }
                });
              });
            
              // âœ ìˆ˜ì • ë²„íŠ¼ ê¸°ëŠ¥ (Firestore updateDoc ì‚¬ìš©)
              listEl.querySelectorAll(".edit-btn").forEach(btn => {
                btn.addEventListener("click", () => {
                  const id = btn.dataset.id;
                  const target = items.find(i => i.id === id);
            
                  openEditModal(target.body, async (updated) => {
                  if (!updated) return;
            
                  // body í•„ë“œë§Œ ì—…ë°ì´íŠ¸
                  await updateDoc(doc(db, collectionName, id), { body: updated });
                });
              }); 
            });
          }

          // 3ï¸âƒ£ ìƒˆ í•­ëª© ì €ì¥ (Firestore addDoc ì‚¬ìš©)
          form.addEventListener("submit", async function(e) {
            e.preventDefault();
            var titleInput = document.getElementById("struggle-title");
            var bodyInput = document.getElementById("struggle-body");
            var title = titleInput.value.trim();
            var body = bodyInput.value.trim();
            if (!title) return;

            await addDoc(collection(db, collectionName), {
              title: title,
              body: body,
              time: nowString(),
              user: USER_NICKNAME 
            });

            titleInput.value = "";
            bodyInput.value = "";
          });

          // 4ï¸âƒ£ ì „ì²´ ì‚­ì œ (Firestore ëª¨ë“  ë¬¸ì„œ ì‚­ì œ)
          clearBtn.addEventListener("click", async function() {
            var ok = confirm("ì •ë§ ì‹œë ¨ ê¸°ë¡ì„ ëª¨ë‘ ì‚­ì œí• ê¹Œìš”?");
            if (!ok) return;
            
            const snapshot = await getDocs(collection(db, collectionName));
            snapshot.forEach(docSnap => deleteDoc(docSnap.ref));
          });
          
        })();
        
        /* ---------- ë¶€ì„œì¥ë‹˜ ë°±ë¬¸ë°±ë‹µ (Q&A ë° GitHub ë§í¬ ê¸°ë°˜ìœ¼ë¡œ ìˆ˜ì •) ---------- */
        (function () {
            const collectionName = "bossQnA"; // Q&A ì»¬ë ‰ì…˜ ì´ë¦„ìœ¼ë¡œ ë³€ê²½
            var form = document.getElementById("boss-form");
            var listEl = document.getElementById("boss-list");
            var addBtn = document.getElementById("boss-add-btn");
            var githubListEl = document.getElementById("github-pdf-list");
            let items = [];
            
            // â­ GitHubì— ìˆëŠ” PDF íŒŒì¼ ëª©ë¡ (ì—¬ê¸°ì— ì‹¤ì œ URLì„ ë„£ì–´ì£¼ì„¸ìš”)
            const GITHUB_PDF_FILES = [
              { 
                  title: "ìµœì„±ìš° ì±…ì„ë‹˜ ë°±ë¬¸ë°±ë‹µ", 
                  url: "https://raw.githubusercontent.com/HyeongUkKwon/Hint7th/main/boss_images/ìµœì„±ìš° ì±…ì„ë‹˜.pdf",
                  description: "ìµœì„±ìš° ì±…ì„ë‹˜ì˜ ë°±ë¬¸ë°±ë‹µ"
              },
              { 
                  title: "ì´ì¢…ì°¬ ì±…ì„ë‹˜ ë°±ë¬¸ë°±ë‹µ", 
                  url: "https://raw.githubusercontent.com/HyeongUkKwon/Hint7th/main/boss_images/ì´ì¢…ì°¬ ì±…ì„ë‹˜.pdf",
                  description: "ì´ì¢…ì°¬ ì±…ì„ë‹˜ì˜ ë°±ë¬¸ë°±ë‹µ"
              },
              { 
                  title: "ê¹€ê¸°í›ˆ ì±…ì„ë‹˜ ë°±ë¬¸ë°±ë‹µ", 
                  url: "https://raw.githubusercontent.com/HyeongUkKwon/Hint7th/main/boss_images/ê¹€ê¸°í›ˆ ì±…ì„ë‹˜.pdf",
                  description: "ê¹€ê¸°í›ˆ ì±…ì„ë‹˜ì˜ ë°±ë¬¸ë°±ë‹µ"
              },
              
              // í•„ìš”ì— ë”°ë¼ ë” ë§ì€ íŒŒì¼ ì¶”ê°€
            ];
        
            // â–¸ GitHub PDF ë§í¬ ëª©ë¡ ë Œë”ë§
            function renderPdfLinks() {
              if (GITHUB_PDF_FILES.length === 0) {
                  githubListEl.style.display = 'none';
                  return;
              }
        
              let html = '<p style="margin: 0 0 10px; font-weight: 600; color:#007aff;">ğŸ”— ì°¸ê³ ìš© PDF ìë£Œ ëª©ë¡</p>';
              
              GITHUB_PDF_FILES.forEach(file => {
                  // GitHubì˜ raw íŒŒì¼ì„ ìƒˆ íƒ­ì—ì„œ PDF ë·°ì–´ë¡œ ë³¼ ìˆ˜ ìˆë„ë¡ a íƒœê·¸ ì‚¬ìš©
                  html += `
                      <div class="item" style="cursor:pointer; background:#fff; margin-bottom: 8px;">
                          <a href="${file.url}" target="_blank" style="text-decoration:none; color:inherit; display:block; padding:0;">
                              <div class="item-title" style="color:#333;">ğŸ“„ ${escapeHtml(file.title)}</div>
                              <div class="item-meta">${escapeHtml(file.description)}</div>
                          </a>
                      </div>
                  `;
              });
              githubListEl.innerHTML = html;
            }
        
        
            // â–¸ ì¶”ê°€í•˜ê¸° ë²„íŠ¼ í´ë¦­ ì‹œ í¼ ì—´ê¸°/ë‹«ê¸° (ìœ ì§€)
            addBtn.addEventListener("click", function () {
                if (!form) return;
                form.style.display = (form.style.display === "none" || !form.style.display)
                    ? "flex"
                    : "none";
            });
        
            // â–¸ Firestoreì—ì„œ Q&A ì‹¤ì‹œê°„ ëª©ë¡ ì½ê¸°
            function renderQnA() {
                onSnapshot(collection(db, collectionName), (snapshot) => {
                    items = snapshot.docs.map(doc => ({
                        id: doc.id,
                        ...doc.data()
                    }));
        
                    if (!items.length) {
                        listEl.innerHTML = '<div class="empty">ì•„ì§ ê¸°ë¡ëœ ì„ ë°°ë‹˜ë“¤ì˜ Q&Aê°€ ì—†ìŠµë‹ˆë‹¤.</div>';
                        return;
                    }
        
                    listEl.innerHTML = "";
                    items.slice().sort((a, b) => new Date(b.time) - new Date(a.time)).forEach(function (item) {
                        var card = document.createElement("div");
                        card.className = "item";
                        card.style.padding = "20px";
        
                        // â­ Q&A ë Œë”ë§ (í´ë¦­ ì‹œ ë‹µë³€ í† ê¸€ ê°€ëŠ¥í•˜ë„ë¡ êµ¬í˜„)
                        card.innerHTML = `
                            <div style="font-size: 16px; font-weight: 700; color: var(--primary); margin-bottom: 8px;">
                                Q. ${escapeHtml(item.question)}
                            </div>
                            <div class="item-meta">
                                ğŸ‘¤ ${escapeHtml(item.name)} (${escapeHtml(item.dept)}/${escapeHtml(item.team)}) Â· ${escapeHtml(item.time)}
                            </div>
                            
                            <div class="item-body answer-body" style="margin-top: 15px; padding: 10px; border-left: 3px solid #6FDB29; background: #f9f9f9; display: none;">
                                <span style="font-weight:700; color:#6FDB29;">A.</span> ${escapeHtml(item.answer)}
                            </div>
                        `;
        
                        // Q&A ì¹´ë“œ í´ë¦­ ì‹œ ë‹µë³€ í† ê¸€
                        card.addEventListener("click", function (e) {
                            // ë²„íŠ¼ í´ë¦­ì´ ì•„ë‹Œ ê²½ìš°ì—ë§Œ í† ê¸€
                            if (e.target.tagName !== 'BUTTON') {
                                var answer = card.querySelector(".answer-body");
                                answer.style.display = answer.style.display === 'none' ? 'block' : 'none';
                            }
                        });
        
                        listEl.appendChild(card);
                    });
                });
            }
        
            // ğŸ”¥ Firestore Q&A ë°ì´í„° ì €ì¥ ì½”ë“œ (Storage ì™„ì „íˆ ì œê±°)
            if (form) {
                form.addEventListener("submit", async function (e) {
                    e.preventDefault();
        
                    const dept = document.getElementById("boss-dept").value.trim();
                    const team = document.getElementById("boss-team").value.trim();
                    const name = document.getElementById("boss-name").value.trim();
                    const question = document.getElementById("boss-question").value.trim(); 
                    const answer = document.getElementById("boss-answer").value.trim(); 
        
                    if (!question || !answer) return alert("ì§ˆë¬¸ê³¼ ë‹µë³€ ë‚´ìš©ì„ ëª¨ë‘ ì…ë ¥í•˜ì„¸ìš”!");
        
                    // Firestoreì— í…ìŠ¤íŠ¸ ë°ì´í„°ë§Œ ì €ì¥
                    await addDoc(collection(db, collectionName), {
                        dept,
                        team,
                        name,
                        question, 
                        answer, 
                        time: nowString(),
                        user: USER_NICKNAME
                    });
        
                    alert("ğŸ“Œ ì„ ë°°ë‹˜ Q&A ê¸°ë¡ ì™„ë£Œ!");
                    form.reset();
                    form.style.display = "none";
                });
            }
            
            // ì´ˆê¸° ì‹¤í–‰
            renderPdfLinks();
            renderQnA();
        
        })();
        
        /* ---------- ë§›ì§‘ ê³µìœ  (Firestore 100% ì‚¬ìš©) ---------- */
        (function () {
          const collectionName = "food";
          var form = document.getElementById("food-form");
          var listEl = document.getElementById("food-list");
          var clearBtn = document.getElementById("food-clear");
          let items = []; // ë°ì´í„° ì €ì¥ìš©
        
          // 1ï¸âƒ£ Firestore ì‹¤ì‹œê°„ ë¦¬ìŠ¤ë„ˆ (loadArray ëŒ€ì²´)
          onSnapshot(collection(db, collectionName), (snapshot) => {
            items = snapshot.docs.map(doc => ({
                id: doc.id,
                ...doc.data()
            }));
            render(items);
          });

          // 2ï¸âƒ£ ë Œë”ë§ í•¨ìˆ˜
          function render(items = []) {
              if (!items.length) {
                listEl.innerHTML = '<div class="empty">ì•„ì§ ë§›ì§‘ì´ ì—†ìŠµë‹ˆë‹¤.</div>';
                return;
              }
            
              listEl.innerHTML = "";
              items.slice().sort((a, b) => new Date(b.time) - new Date(a.time)).forEach(item => {
                var div = document.createElement("div");
                div.className = "item";
                div.innerHTML = `
                  <div class="item-title">${escapeHtml(item.title)} (${escapeHtml(item.rating || "â­")})</div>
                  <div class="item-meta">ì¶”ì²œ: ${escapeHtml(item.menu || "ì •ë³´ ì—†ìŒ")} Â· ${escapeHtml(item.time)}</div>
                  <div class="item-body">${escapeHtml(item.body || "")}</div>
            
                  <div style="margin-top:10px; display:flex; gap:8px;">
                    <button class="edit-btn" data-id="${item.id}">âœ ìˆ˜ì •</button>
                    <button class="delete-btn" data-id="${item.id}" style="background:red;color:white;">ğŸ—‘ ì‚­ì œ</button>
                  </div>
                `;
                listEl.appendChild(div);
              });
            
              // ğŸ—‘ ì‚­ì œ ë²„íŠ¼ ê¸°ëŠ¥ (Firestore deleteDoc ì‚¬ìš©)
              document.querySelectorAll("#food-list .delete-btn").forEach(btn => {
                btn.onclick = async () => {
                  if (confirm("ì •ë§ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?")) {
                    await deleteDoc(doc(db, collectionName, btn.dataset.id));
                  }
                };
              });
            
                // âœ ìˆ˜ì • ë²„íŠ¼ ê¸°ëŠ¥ (Firestore updateDoc ì‚¬ìš©)
                      document.querySelectorAll("#food-list .edit-btn").forEach(btn => {
                        btn.onclick = () => {
                          const id = btn.dataset.id;
                          const target = items.find(i => i.id === id);
                
                          // â­ 1. ë³„ì ê³¼ ì½”ë©˜íŠ¸ ë‚´ìš©ì„ í•˜ë‚˜ì˜ ë¬¸ìì—´ë¡œ ë§Œë“¤ì–´ ëª¨ë‹¬ì— ì „ë‹¬
                          const initialText = 
                            `[ë³„ì ]: ${target.rating || 'ë³„ì  ì…ë ¥'}\n` + // ë³„ì  ì •ë³´ë¥¼ í‘œì‹œ
                            `[ì½”ë©˜íŠ¸]:\n${target.body || ''}`; // ì½”ë©˜íŠ¸ ë³¸ë¬¸ì„ í‘œì‹œ
                
                          // openEditModal í•¨ìˆ˜ëŠ” ì—¬ì „íˆ í•˜ë‚˜ì˜ í…ìŠ¤íŠ¸ë§Œ ë°›ìŠµë‹ˆë‹¤.
                          openEditModal(initialText, async (updated) => { 
                            if (!updated || updated.trim().length < 10) {
                              alert("ìˆ˜ì • ë‚´ìš©ì´ ë„ˆë¬´ ì§§ê±°ë‚˜ ë¹„ì–´ìˆìŠµë‹ˆë‹¤.");
                              return;
                            }
                
                            // â­ 2. ëª¨ë‹¬ì—ì„œ ì…ë ¥ë°›ì€ í…ìŠ¤íŠ¸ë¥¼ íŒŒì‹±í•˜ì—¬ ë³„ì ê³¼ ì½”ë©˜íŠ¸ ë¶„ë¦¬
                            // ì²« ë²ˆì§¸ ì¤„ì—ì„œ [ë³„ì ]: ë’¤ì˜ ê°’ì„ ì¶”ì¶œ
                            const ratingMatch = updated.match(/\[ë³„ì \]:\s*(.*)/i);
                            
                            // [ì½”ë©˜íŠ¸]:\n ì´í›„ì˜ ëª¨ë“  í…ìŠ¤íŠ¸ë¥¼ ì½”ë©˜íŠ¸ ë³¸ë¬¸ìœ¼ë¡œ ê°„ì£¼
                            const bodySplit = updated.split('[ì½”ë©˜íŠ¸]:\n');
                
                            const newRating = ratingMatch ? ratingMatch[1].trim() : target.rating;
                            const newBody = bodySplit.length > 1 ? bodySplit[1].trim() : target.body;
                
                            // â­ 3. Firestoreì— 'rating'ê³¼ 'body' ë‘ í•„ë“œ ëª¨ë‘ ì—…ë°ì´íŠ¸
                            await updateDoc(doc(db, collectionName, id), { 
                              rating: newRating,
                              body: newBody 
                            });
                          });
                        };
                      });
          }
      
          // íŒŒì¼ ë‚´ì˜ ì›ë˜ ìœ„ì¹˜: /* ---------- ë§›ì§‘ ê³µìœ  (Firestore 100% ì‚¬ìš©) ---------- */ ì„¹ì…˜ ë‚´ë¶€
          
          // â­ ë³„ì  ìˆ«ìë¥¼ â­â­â­â­â­ ë¬¸ìì—´ë¡œ ë³€í™˜í•˜ëŠ” í•¨ìˆ˜ ì¶”ê°€
          function convertRatingToStars(numStr) {
              const ratingNum = parseFloat(numStr);
              if (isNaN(ratingNum) || ratingNum < 0 || ratingNum > 5) {
                  return "â­"; // ê¸°ë³¸ê°’
              }
              
              let fullStars = Math.floor(ratingNum);
              let halfStar = ratingNum - fullStars >= 0.5;
              
              let stars = 'â­'.repeat(fullStars);
              
              if (halfStar) {
                  // ë°˜ ë³„ì€ ì—†ìœ¼ë¯€ë¡œ, 4.5ëŠ” 4ê°œ ë³„ë¡œ ì²˜ë¦¬í•˜ê±°ë‚˜ 5ì  ë§Œì ì„ ê¸°ì¤€ìœ¼ë¡œ ì²˜ë¦¬
                  // ì—¬ê¸°ì„œëŠ” ê°„ë‹¨íˆ ë°˜ì˜¬ë¦¼í•˜ì—¬ ì²˜ë¦¬í•˜ê±°ë‚˜, ì‚¬ìš©ìì—ê²Œ 0~5ì  ì…ë ¥ ê·¸ëŒ€ë¡œ ë³´ì´ê²Œ í•©ë‹ˆë‹¤.
                  // í˜„ì¬ëŠ” ë³„ ê°¯ìˆ˜ë¡œë§Œ í‘œì‹œí•˜ë„ë¡ 'fullStars'ë§Œ ì‚¬ìš©í•©ë‹ˆë‹¤.
                  
                  // 4.5ë¥¼ ì…ë ¥í•˜ë©´ 4ê°œ ë³„ì´ ë³´ì…ë‹ˆë‹¤.
                  // ë§Œì•½ ì†Œìˆ˜ì ì„ ê·¸ëŒ€ë¡œ ë³´ì—¬ì£¼ê³  ì‹¶ë‹¤ë©´ ratingStr ê·¸ëŒ€ë¡œ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤.
                  
                  // ì‚¬ìš©ìê°€ ì›í•œ ë°©ì‹(â­â­â­â­â­)ì— ë§ì¶”ì–´, 0.5 ë‹¨ìœ„ëŠ” ì˜¬ë¦¼í•˜ì—¬ ì²˜ë¦¬í•©ë‹ˆë‹¤.
                  const finalStars = Math.round(ratingNum * 2) / 2; // 0.5 ë‹¨ìœ„ë¡œ ë°˜ì˜¬ë¦¼
                  
                  let fullStarCount = Math.floor(finalStars);
                  let emptyStarCount = 5 - fullStarCount;
                  
                  return 'â­'.repeat(fullStarCount) + 'â˜†'.repeat(emptyStarCount);
              }
          
              // â­ ë§Œì (5ì ) ê¸°ì¤€ìœ¼ë¡œ ë³„ ìƒì„±
              let emptyStars = 5 - fullStars;
              return 'â­'.repeat(fullStars) + 'â˜†'.repeat(emptyStars);
          }
          
          
          // 3ï¸âƒ£ ìƒˆ í•­ëª© ì €ì¥ (Firestore addDoc ì‚¬ìš©)
          form.addEventListener("submit", async function (e) {
            e.preventDefault();
            var title = document.getElementById("food-title").value.trim();
            var menu = document.getElementById("food-menu").value.trim();
            
            // â¬…ï¸ ìˆ˜ì •: ìˆ«ìë¡œ ì…ë ¥ë°›ì•„ ë³„ ë¬¸ìì—´ë¡œ ë³€í™˜
            var ratingNum = document.getElementById("food-rating").value.trim();
            var ratingStars = convertRatingToStars(ratingNum); // â­ ë³„ ëª¨ì–‘ Stringìœ¼ë¡œ ë³€í™˜
            
            var body = document.getElementById("food-body").value.trim();
          
            if (!title) return;
          
            await addDoc(collection(db, collectionName), { 
                title, 
                menu, 
                rating: ratingStars, // â­ ë³€í™˜ëœ ë³„ ë¬¸ìì—´ ì €ì¥
                body, 
                time: nowString(),
                user: USER_NICKNAME
            });
          
            form.reset();
          });
        
          // 4ï¸âƒ£ ì „ì²´ ì‚­ì œ (Firestore ëª¨ë“  ë¬¸ì„œ ì‚­ì œ)
          clearBtn.addEventListener("click", async function () {
            if (confirm("ì •ë§ ì „ì²´ ì‚­ì œí• ê¹Œìš”?")) {
              const snapshot = await getDocs(collection(db, collectionName));
              snapshot.forEach(docSnap => deleteDoc(docSnap.ref));
            }
          });
        
        })();
  </script>
   
</body>
</html>

